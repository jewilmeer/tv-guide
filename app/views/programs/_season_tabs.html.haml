#seasons.active
  .page-header
    %h3 Seasons
  %ul.nav.nav-tabs#program-season-tabs
    - @grouped_episodes.first(7).each do |season, episodes|
      %li{class: (:active if @program.current_season_nr == season)}
        %a{:href => "#s#{season}", 'data-toggle' => 'tab'}== Season #{season} (#{episodes.length})
    - if @grouped_episodes.length > 7
      %li.dropdown
        %a.dropdown-toggle{'data-toggle' => :dropdown}
          == Older seasons (#{@grouped_episodes.length-7})
          %b.caret
        %ul.dropdown-menu
          - @grouped_episodes.drop(7).each do |season, episodes|
            %li
              %a{:href => "#s#{season}", 'data-toggle' => 'tab'}
                == Season #{season} (#{episodes.length})
  .tab-content
    - @grouped_episodes.each do |season, episodes|
      .tab-pane{:id => "s#{season}", :class => (:active if @program.current_season_nr == season)}
        %table.table.table-striped
          %thead
            %tr
              %th Title
              %th{:width => 150} Airdate
          %tbody
            = render episodes

